---
layout: lesson
title: Views
quote: "The creatures outside looked from pig to man, and from man to pig, and from pig to man again; but already it was impossible to say which was which."
previous_lesson: /lessons/table-functions/
next_lesson: /lessons/recursive-queries/
---

<p><img src="images/views.png" class="illustration" /></p>

<blockquote>A view is a virtual table defined by a SQL query. When you create a view, you query it in the same way you query a table. When a user queries the view, the query results contain data only from the tables and fields specified in the query that defines the view.<br><br><a href="https://cloud.google.com/bigquery/docs/views-intro">https://cloud.google.com/bigquery/docs/views-intro</a></blockquote>

<p>You can create a view to make data more accessible or controlled: shorter names, shorter query lengths, customized number and names of columns etc.</p>
<p>A view is similar to a table function but does not take any parameters. A view is also attached to a specific dataset.</p>

<h3 class="h3-big-margin"><span class="grey-text-span">Example 1</span></h3>
<p><strong>Type</strong> the queries below in the <a href="https://console.cloud.google.com/bigquery" target="_blank">BigQuery console</a> and run them. Don't copy paste. ðŸ˜‰</p>
<p>
  <pre>
    <code class="language-sql">
CREATE OR REPLACE VIEW example_dataset.orders_public_fields_view AS
  ( 
    SELECT  order_id, num_of_item, status, created_at
      FROM  bigquery-public-data.thelook_ecommerce.orders
  );
    </code>
  </pre>
</p>

<p>
  <pre>
    <code class="language-sql">
SELECT      *
  FROM      example_dataset.orders_public_fields_view
  ORDER BY  created_at
  LIMIT     10;
    </code>
  </pre>
</p>

<p><strong>Example results</strong>:</p>
<p><img src="images/example-1.png" class="lesson-img" /></p>

<p>A view can be deleted from the user interface or using the <code>DROP VIEW</code> statement.</p>
<p><img src="images/delete-view.png" class="lesson-img" /></p>

<h3 class="h3-big-margin"><span class="grey-text-span">Learn more</span></h3>
<a href="https://cloud.google.com/bigquery/docs/views-intro" target="_blank">ðŸ‘‰ Introduction to views (official documentation)</a>


<!-- PRACTICE PROBLEMS -->
{% include practice_problems_intructions.html %}

<h3 class="h3-big-margin"><span class="easy-problem-text-span">NÂ°1 â€” User generated events view&nbsp;ðŸ§‚</span></h3>
<div class="problem">
  <h4>Tables</h4>
  <p>bigquery-public-data.thelook_ecommerce.events</p>

  <h4>Task</h4>
  <p>Create a view that shows only the events that are generated by a user.</p>
  
  <h4>Example results</h4>
  <pre>
    <code class="language-sql">
SELECT  COUNT(*) AS event_count
  FROM  example_dataset.user_events_view
  WHERE user_id IS NOT NULL;
    </code>
  </pre>

  <div class="table-wrapper">
    <table class="table-with-header">
      <thead><th>event_count</th></thead>
      <tbody>
        <tr><td>1301394</td></tr>
      </tbody>
    </table>
  </div>

  <pre>
    <code class="language-sql">
SELECT  COUNT(*) AS event_count
  FROM  example_dataset.user_events_view
  WHERE user_id IS NULL;
    </code>
  </pre>

  <div class="table-wrapper">
    <table class="table-with-header">
      <thead><th>event_count</th></thead>
      <tbody>
        <tr><td>0</td></tr>
      </tbody>
    </table>
  </div>

  <h4>Solution</h4>
  <div class="collapsible-parent">
    <p><a href="#" class="hide-control">ðŸ™ˆ Hide</a><a href="#" class="show-control">ðŸ‘€ Show</a></p>
    <div class="practice-problems-instructions collapsible-item">
      <pre>
        <code class="language-sql">
CREATE OR REPLACE VIEW example_dataset.user_events_view AS
  ( 
    SELECT  *
      FROM  bigquery-public-data.thelook_ecommerce.events
      WHERE user_id IS NOT NULL
  );
        </code>
      </pre>
    </div>
  </div>
</div>
